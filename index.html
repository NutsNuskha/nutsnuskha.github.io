<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Nuts Nuskha - Shop</title>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --brand:#8d5a2a;
      --muted:#999;
      --bg:#fff9f3;
      --card:#fff;
      --accent:#25D366; /* whatsapp */
    }
    body {
      font-family: 'Quicksand', sans-serif;
      text-align: center;
      background-color: var(--bg);
      color: #333;
      padding: 20px;
      margin:0;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      max-width:1100px;
      margin:0 auto 12px auto;
      padding:12px 8px;
      position:sticky;
      top:0;
      background:linear-gradient(180deg, rgba(255,249,243,0.95), rgba(255,249,243,0.9));
      z-index:20;
      border-bottom:1px solid rgba(0,0,0,0.03);
    }

    .logo {max-width:140px}

    h1 {color:var(--brand); margin:0}
    p.tagline{margin:0;color:#6a4f3b}

    .nav a{margin:0 8px;text-decoration:none;color:var(--brand);font-weight:600}

    .product-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px;max-width:1100px;margin:18px auto}

    .card{
      background:var(--card);
      border-radius:12px;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
      padding:14px;
      display:flex;
      gap:12px;
      align-items:flex-start;
      transition:transform .18s;
    }
    .card:hover{transform:translateY(-4px)}
    .product-image{width:130px;height:130px;object-fit:cover;border-radius:10px;flex-shrink:0}
    .text{flex:1;text-align:left}
    .text h2{color:#7b3f00;margin:4px 0}
    .text p{margin:6px 0;font-size:0.95rem;color:#444}
    .price{font-weight:700;color:#333}
    .strike{color:var(--muted);text-decoration:line-through}

    .button{background-color:var(--accent);color:white;padding:8px 12px;border:none;border-radius:8px;font-size:14px;cursor:pointer}
    .button.secondary{background:#f3f3f3;color:#333}

    /* cart badge */
    .cart-btn{position:relative;display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:12px;background:#fff;border:1px solid rgba(0,0,0,0.06);cursor:pointer}
    .cart-count{position:absolute;top:-6px;right:-6px;background:#e63946;color:#fff;border-radius:999px;padding:4px 7px;font-size:12px;box-shadow:0 3px 8px rgba(0,0,0,0.15)}

    /* cart modal */
    .cart-modal{position:fixed;right:20px;bottom:20px;width:360px;max-width:calc(100% - 40px);background:#fff;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.2);z-index:80;overflow:hidden;display:none}
    .cart-modal.open{display:block}
    .cart-header{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid rgba(0,0,0,0.06)}
    .cart-body{max-height:320px;overflow:auto;padding:12px}
    .cart-row{display:flex;gap:10px;align-items:center;border-bottom:1px dashed rgba(0,0,0,0.04);padding:8px 0}
    .cart-row img{width:56px;height:56px;object-fit:cover;border-radius:8px}
    .qty-controls{display:flex;align-items:center;gap:6px}
    .cart-footer{padding:12px;border-top:1px solid rgba(0,0,0,0.06);display:flex;flex-direction:column;gap:8px}

    /* floating social bar */
    .social-bar{position:fixed;left:12px;bottom:20px;display:flex;flex-direction:column;gap:8px;z-index:70}
    .social-bar a{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:50%;background:#fff;box-shadow:0 4px 12px rgba(0,0,0,0.12);text-decoration:none;color:var(--brand);font-size:18px}

    footer{margin-top:34px;font-size:0.9em;color:#555;padding:20px}

    @media (max-width:540px){
      .product-image{width:100px;height:100px}
      header{padding:8px}
    }
  </style>
</head>
<body>
  <header>
    <div style="display:flex;align-items:center;gap:12px">
      <img src="logo_no_bg - Edited.png" alt="Nuts Nuskha" class="logo">
      <div>
        <h1>Welcome to Nuts Nuskha</h1>
        <p class="tagline">Wholesome, homemade dry fruits & snacks delivered fresh!</p>
      </div>
    </div>

    <div style="display:flex;align-items:center;gap:12px">
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="about.html">About Us</a>
      </nav>

      <button id="openCart" class="cart-btn" aria-label="Open cart">
        <i class="fa-solid fa-cart-shopping"></i> Cart
        <span id="cartCount" class="cart-count" style="display:none">0</span>
      </button>
    </div>
  </header>

  <main>
    <div class="product-grid" id="productGrid">

      <!-- Product cards: each card includes data attributes used by the cart script -->

      <article class="card" data-name="Pudina Pop" data-price="175" data-weight="70g" data-img="pudina.png">
        <img class="product-image" src="pudina.png" alt="Pudina Pop">
        <div class="text">
          <h2>Pudina Pop</h2>
          <p>Pudina Pop Makhana — Light, crunchy, and roasted in olive oil with a refreshing pudina twist. Roasted | Low-calorie | Nutrient-rich</p>
          <div>
            <span class="strike">Rs 235</span>
            <div class="price">Rs175 / 70g</div>
          </div>
          <div style="margin-top:8px">
            <button class="button add-to-cart">Add to cart</button>
          </div>
        </div>
      </article>

      <article class="card" data-name="The OG Pop" data-price="175" data-weight="70g" data-img="kalimirch.png">
        <img class="product-image" src="kalimirch.png" alt="The OG Pop">
        <div class="text">
          <h2>The OG Pop</h2>
          <p>Salt & Black Pepper Makhana — Classic roasted makhana with a dash of salt and pepper. High in fiber | Light & crunchy</p>
          <div>
            <span class="strike">Rs 235</span>
            <div class="price">Rs175 / 70g</div>
          </div>
          <div style="margin-top:8px">
            <button class="button add-to-cart">Add to cart</button>
          </div>
        </div>
      </article>

      <article class="card" data-name="Gudness Chana" data-price="99" data-weight="150g" data-img="IMG_1262 - Edited.png">
        <img class="product-image" src="IMG_1262 - Edited.png" alt="Gudness Chana">
        <div class="text">
          <h2>Gudness Chana</h2>
          <p>Roasted channa with jaggery, made in ghee</p>
          <div>
            <span class="strike">Rs 110</span>
            <div class="price">Rs99 / 150g</div>
          </div>
          <div style="margin-top:8px">
            <button class="button add-to-cart">Add to cart</button>
          </div>
        </div>
      </article>

      <article class="card" data-name="Power Munch (180g)" data-price="225" data-weight="180g" data-img="IMG_1259 (1) - Edited.png">
        <img class="product-image" src="IMG_1259 (1) - Edited.png" alt="Power Munch">
        <div class="text">
          <h2>Power Munch</h2>
          <p>Roasted, homestyle masala mix of nuts & seeds</p>
          <div>
            <span class="strike">Rs250</span>
            <div class="price">Rs225 / 180g</div>
            <div class="price">Rs129 / 100g</div>
          </div>
          <div style="margin-top:8px">
            <button class="button add-to-cart">Add to cart</button>
          </div>
        </div>
      </article>

      <article class="card" data-name="Gud Almonds - Basil Leaf Crush" data-price="229" data-weight="100g" data-img="IMG_1281 - Edited.png">
        <img class="product-image" src="IMG_1281 - Edited.png" alt="Gud Almonds">
        <div class="text">
          <h2>Gud Almonds - Basil Leaf Crush</h2>
          <p>Wholesome almonds with jaggery, packed with energy and immunity-boosting nutrients.</p>
          <div>
            <span class="strike">Rs279</span>
            <div class="price">Rs229 / 100g</div>
          </div>
          <div style="margin-top:8px">
            <button class="button add-to-cart">Add to cart</button>
          </div>
        </div>
      </article>

      <article class="card" data-name="Zesty Cashew" data-price="229" data-weight="100g" data-img="IMG_1246 (1) - Edited.png">
        <img class="product-image" src="IMG_1246 (1) - Edited.png" alt="Zesty Cashew">
        <div class="text">
          <h2>Zesty Cashew</h2>
          <p>Delivers protein, healthy fats, and energy in a crunchy, zesty bite.</p>
          <div>
            <span class="strike">Rs279</span>
            <div class="price">Rs229 / 100g</div>
          </div>
          <div style="margin-top:8px">
            <button class="button add-to-cart">Add to cart</button>
          </div>
        </div>
      </article>

    </div>

    <!-- Order CTA (desktop/mobile) -->
    <div style="max-width:1100px;margin:18px auto;text-align:left;padding:0 12px">
      <a class="button" href="https://wa.me/919896309925?text=Hi%20Nuts%20Nuskha!%20I%20want%20to%20order!" target="_blank">Order on WhatsApp</a>
    </div>

  </main>

  <!-- Cart modal -->
  <div id="cartModal" class="cart-modal" role="dialog" aria-label="Shopping cart">
    <div class="cart-header">
      <strong>Your Cart</strong>
      <div>
        <button id="clearCart" class="button secondary">Clear</button>
        <button id="closeCart" class="button">Close</button>
      </div>
    </div>
    <div class="cart-body" id="cartBody">
      <!-- items injected here -->
    </div>
    <div class="cart-footer">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div><strong>Total:</strong> <span id="cartTotal">Rs0</span></div>
        <div>
          <button id="checkoutBtn" class="button">Checkout via WhatsApp</button>
        </div>
      </div>
      <small style="color:#666">Pickup & delivery info can be added here. Cart saved in your browser (localStorage).</small>
    </div>
  </div>

  <!-- Floating social bar -->
  <div class="social-bar" aria-hidden="false">
    <a href="https://wa.me/919896309925" title="WhatsApp" target="_blank" aria-label="WhatsApp"><i class="fa-brands fa-whatsapp"></i></a>
    <a href="https://www.instagram.com/nutsnuskha" title="Instagram" target="_blank" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
    <a href="https://www.facebook.com/" title="Facebook" target="_blank" aria-label="Facebook"><i class="fa-brands fa-facebook"></i></a>
    <a href="mailto:nutsnuskha@gmail.com" title="Email" aria-label="Email"><i class="fa-solid fa-envelope"></i></a>
  </div>

  <footer>
    📍 Gurgaon | 📞 +91-9896309925 | 📧 nutsnuskha@gmail.com
  </footer>

  <script>
    // Simple client-side cart using localStorage
    const CART_KEY = 'nutsnuskha_cart_v1';
    const WA_NUMBER = '+919896309925'; // used for checkout message

    function getCart(){
      try{
        return JSON.parse(localStorage.getItem(CART_KEY)) || [];
      }catch(e){return []}
    }
    function saveCart(cart){
      localStorage.setItem(CART_KEY, JSON.stringify(cart));
      renderCartCount();
    }

    function addToCart(item){
      const cart = getCart();
      const exists = cart.find(p => p.name === item.name);
      if(exists){ exists.qty += 1; }
      else { item.qty = 1; cart.push(item); }
      saveCart(cart);
      openCartModal();
    }

    function removeFromCart(name){
      let cart = getCart().filter(i => i.name !== name);
      saveCart(cart);
      renderCart();
    }

    function updateQty(name, qty){
      const cart = getCart();
      const item = cart.find(i => i.name === name);
      if(!item) return;
      item.qty = Math.max(0, qty);
      const filtered = cart.filter(i => i.qty>0);
      saveCart(filtered);
      renderCart();
    }

    function calcTotal(){
      const cart = getCart();
      return cart.reduce((s,i)=> s + (Number(i.price) * Number(i.qty||0)), 0);
    }

    function renderCartCount(){
      const cart = getCart();
      const count = cart.reduce((s,i)=> s + (i.qty||0), 0);
      const el = document.getElementById('cartCount');
      if(count>0){ el.style.display='inline-block'; el.textContent = count; }
      else { el.style.display='none'; }
    }

    function renderCart(){
      const container = document.getElementById('cartBody');
      const cart = getCart();
      container.innerHTML = '';
      if(cart.length===0){ container.innerHTML = '<div style="padding:14px;color:#666">Your cart is empty. Add tasty snacks!</div>'; }
      cart.forEach(item=>{
        const row = document.createElement('div'); row.className='cart-row';
        row.innerHTML = `
          <img src="${item.img}" alt="${item.name}">
          <div style="flex:1;text-align:left">
            <div style="font-weight:700">${item.name}</div>
            <div style="color:#666;font-size:13px">${item.weight} • Rs${item.price} each</div>
            <div style="margin-top:6px;display:flex;align-items:center;gap:8px">
              <div class="qty-controls">
                <button class="button secondary qty-minus">-</button>
                <span style="min-width:26px;text-align:center;display:inline-block">${item.qty}</span>
                <button class="button qty-plus">+</button>
              </div>
              <button class="button secondary remove-item">Remove</button>
            </div>
          </div>
        `;
        // event handlers
        row.querySelector('.qty-plus').addEventListener('click', ()=>{ updateQty(item.name, item.qty+1); });
        row.querySelector('.qty-minus').addEventListener('click', ()=>{ updateQty(item.name, item.qty-1); });
        row.querySelector('.remove-item').addEventListener('click', ()=>{ removeFromCart(item.name); });
        container.appendChild(row);
      });
      document.getElementById('cartTotal').textContent = 'Rs' + calcTotal();
      renderCartCount();
    }

    // Initialize add-to-cart buttons
    document.querySelectorAll('.card').forEach(card=>{
      const btn = card.querySelector('.add-to-cart');
      btn.addEventListener('click', ()=>{
        const item = {
          name: card.dataset.name.trim(),
          price: Number(card.dataset.price),
          weight: card.dataset.weight || '',
          img: card.dataset.img || card.querySelector('img')?.src || ''
        };
        addToCart(item);
      });
    });

    // Cart modal UI controls
    const cartModal = document.getElementById('cartModal');
    const openCartBtn = document.getElementById('openCart');
    const closeCartBtn = document.getElementById('closeCart');
    const clearCartBtn = document.getElementById('clearCart');
    const checkoutBtn = document.getElementById('checkoutBtn');

    function openCartModal(){ cartModal.classList.add('open'); renderCart(); }
    function closeCartModal(){ cartModal.classList.remove('open'); }

    openCartBtn.addEventListener('click', ()=>{ openCartModal(); });
    closeCartBtn.addEventListener('click', ()=>{ closeCartModal(); });

    clearCartBtn.addEventListener('click', ()=>{ if(confirm('Clear all items from cart?')){ localStorage.removeItem(CART_KEY); renderCart(); } });

    // Checkout builds a WhatsApp message with cart summary
    checkoutBtn.addEventListener('click', ()=>{
      const cart = getCart();
      if(cart.length===0){ alert('Your cart is empty'); return; }
      let message = `Hi Nuts Nuskha! I'd like to place an order:%0A`;
      cart.forEach(i=>{ message += `- ${i.name} x ${i.qty} (${i.weight}) - Rs${Number(i.price)*Number(i.qty)}%0A`; });
      message += `%0ATotal: Rs${calcTotal()}%0AName:%0AAddress/Instructions:%0AContact:`;
      const url = `https://wa.me/${WA_NUMBER.replace('+','')}?text=${message}`;
      window.open(url,'_blank');
    });

    // initial render
    renderCartCount();

    // Small enhancement: allow direct "Add & open cart" via Shift-click
    document.addEventListener('click', (e)=>{
      if(e.target.matches('.add-to-cart')){
        if(e.shiftKey){ openCartModal(); }
      }
    });
  </script>
</body>
</html>
